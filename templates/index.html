<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ Whimsical Photobooth âœ¨</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <!-- Floating bubbles background -->
    <div class="bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>

    <!-- Header -->
    <header class="app-header">
        <h1 class="logo">
            <span class="camera-icon">ğŸ“¸</span>
            <span class="logo-text">Whimsical Booth</span>
            <span class="sparkle">âœ¨</span>
        </h1>
        <div class="session-info">
            <span id="sessionId">Session: New</span>
            <button id="newSession" class="btn btn-ghost">ğŸ”„ New Session</button>
        </div>
    </header>

    <!-- Main container -->
    <div class="container">
        <!-- Left Panel - Camera & Upload -->
        <div class="panel camera-panel">
            <div class="panel-header">
                <h2>ğŸ“· Capture Magic</h2>
            </div>
            
            <!-- Camera/Upload Section -->
            <div class="capture-section">
                <div class="camera-preview" id="cameraPreview">
                    <video id="video" autoplay playsinline></video>
                    <canvas id="canvas" style="display: none;"></canvas>
                    <div class="camera-overlay">
                        <div class="viewfinder"></div>
                    </div>
                </div>
                
                <div class="capture-controls">
                    <button id="startCamera" class="btn btn-primary">ğŸ“¹ Start Camera</button>
                    <button id="capturePhoto" class="btn btn-accent" style="display: none;">ğŸ“¸ Snap!</button>
                    <button id="stopCamera" class="btn btn-secondary" style="display: none;">â¹ï¸ Stop</button>
                </div>
                
                <div class="upload-section">
                    <div class="upload-zone" id="uploadZone">
                        <input type="file" id="fileInput" accept="image/*" multiple>
                        <div class="upload-content">
                            <span class="upload-icon">ğŸ–¼ï¸</span>
                            <p>Drop images here or click to browse</p>
                            <small>Support multiple files</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fun Stats -->
            <div class="stats-mini">
                <div class="stat-item">
                    <span class="stat-emoji">ğŸ“Š</span>
                    <span>Photos: <span id="photoCount">0</span></span>
                </div>
                <div class="stat-item">
                    <span class="stat-emoji">ğŸ¨</span>
                    <span>Filters: <span id="filtersUsed">0</span></span>
                </div>
                <div class="stat-item">
                    <span class="stat-emoji">âš¡</span>
                    <span>Strips: <span id="stripsCreated">0</span></span>
                </div>
            </div>
        </div>

        <!-- Center Panel - Preview & Filters -->
        <div class="panel preview-panel">
            <div class="panel-header">
                <h2>ğŸ¨ Style Studio</h2>
            </div>
            
            <!-- Image Preview -->
            <div class="image-preview" id="imagePreview">
                <div class="preview-placeholder">
                    <span class="placeholder-icon">ğŸ–¼ï¸</span>
                    <p>Your masterpiece appears here</p>
                </div>
            </div>
            
            <!-- Filter Controls -->
            <div class="filter-section">
                <h3>âœ¨ Magic Filters</h3>
                <div class="filter-grid">
                    <button class="filter-btn" data-filter="none">
                        <span class="filter-emoji">ğŸŒˆ</span>
                        <span>Original</span>
                    </button>
                    <button class="filter-btn" data-filter="vintage">
                        <span class="filter-emoji">ğŸ“œ</span>
                        <span>Vintage</span>
                    </button>
                    <button class="filter-btn" data-filter="bw">
                        <span class="filter-emoji">âš«</span>
                        <span>B&W</span>
                    </button>
                    <button class="filter-btn" data-filter="blur">
                        <span class="filter-emoji">ğŸ’«</span>
                        <span>Dreamy</span>
                    </button>
                    <button class="filter-btn" data-filter="enhance">
                        <span class="filter-emoji">âœ¨</span>
                        <span>Vibrant</span>
                    </button>
                    <button class="filter-btn" data-filter="retro">
                        <span class="filter-emoji">ğŸ•º</span>
                        <span>Retro</span>
                    </button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="processImage" class="btn btn-primary">ğŸ­ Apply Magic</button>
                <button id="saveImage" class="btn btn-accent">ğŸ’¾ Save Image</button>
                <button id="createStrip" class="btn btn-gradient">ğŸï¸ Make Strip</button>
            </div>
        </div>

        <!-- Right Panel - Gallery & Features -->
        <div class="panel gallery-panel">
            <div class="panel-header">
                <h2>ğŸ–¼ï¸ Gallery</h2>
                <div class="panel-controls">
                    <button id="refreshGallery" class="btn btn-ghost btn-sm">ğŸ”„</button>
                    <button id="clearGallery" class="btn btn-ghost btn-sm">ğŸ—‘ï¸</button>
                </div>
            </div>
            
            <!-- Image Gallery -->
            <div class="gallery-grid" id="galleryGrid">
                <!-- Images will be populated here -->
            </div>
            
            <!-- Fun Features -->
            <div class="fun-features">
                <div class="feature-tabs">
                    <button class="tab-btn active" data-tab="templates">ğŸ¨ Templates</button>
                    <button class="tab-btn" data-tab="frames">ğŸ–¼ï¸ Frames</button>
                    <button class="tab-btn" data-tab="stickers">ğŸ­ Stickers</button>
                </div>
                
                <!-- Templates Tab -->
                <div class="tab-content active" id="templates">
                    <div class="template-grid">
                        <div class="template-item" data-template="collage">
                            <span class="template-emoji">ğŸ¨</span>
                            <span>Collage</span>
                        </div>
                        <div class="template-item" data-template="mirror">
                            <span class="template-emoji">ğŸª</span>
                            <span>Mirror</span>
                        </div>
                        <div class="template-item" data-template="split">
                            <span class="template-emoji">âœ‚ï¸</span>
                            <span>Split</span>
                        </div>
                        <div class="template-item" data-template="grid">
                            <span class="template-emoji">âš</span>
                            <span>Grid</span>
                        </div>
                    </div>
                </div>
                
                <!-- Frames Tab -->
                <div class="tab-content" id="frames">
                    <div class="frame-grid">
                        <div class="frame-item" data-frame="polaroid">ğŸ“· Polaroid</div>
                        <div class="frame-item" data-frame="vintage">ğŸ–¼ï¸ Vintage</div>
                        <div class="frame-item" data-frame="modern">âœ¨ Modern</div>
                        <div class="frame-item" data-frame="film">ğŸï¸ Film Strip</div>
                    </div>
                </div>
                
                <!-- Stickers Tab -->
                <div class="tab-content" id="stickers">
                    <div class="sticker-grid">
                        <span class="sticker-item" data-sticker="heart">ğŸ’–</span>
                        <span class="sticker-item" data-sticker="star">â­</span>
                        <span class="sticker-item" data-sticker="rainbow">ğŸŒˆ</span>
                        <span class="sticker-item" data-sticker="party">ğŸ‰</span>
                        <span class="sticker-item" data-sticker="fire">ğŸ”¥</span>
                        <span class="sticker-item" data-sticker="cool">ğŸ˜</span>
                        <span class="sticker-item" data-sticker="cute">ğŸ¥°</span>
                        <span class="sticker-item" data-sticker="sparkle">âœ¨</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Panel - Photo Strip Preview -->
    <div class="strip-preview" id="stripPreview">
        <div class="strip-header">
            <h3>ğŸï¸ Photo Strip Preview</h3>
            <div class="strip-controls">
                <button id="downloadStrip" class="btn btn-accent btn-sm">ğŸ“¥ Download</button>
                <button id="shareStrip" class="btn btn-primary btn-sm">ğŸ”— Share</button>
                <button id="printStrip" class="btn btn-secondary btn-sm">ğŸ–¨ï¸ Print</button>
            </div>
        </div>
        <div class="strip-container" id="stripContainer">
            <div class="strip-placeholder">
                <span class="strip-emoji">ğŸï¸</span>
                <p>Create your first photo strip!</p>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab-container">
        <button class="fab" id="magicFab">
            <span class="fab-icon">âœ¨</span>
        </button>
        <div class="fab-menu">
            <button class="fab-option" data-action="random-filter">ğŸ² Random Filter</button>
            <button class="fab-option" data-action="auto-enhance">ğŸ”® Auto Enhance</button>
            <button class="fab-option" data-action="surprise-me">ğŸ‰ Surprise Me!</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Creating magic... âœ¨</p>
        </div>
    </div>

    <!-- Confetti Canvas -->
    <canvas id="confetti"></canvas>

    <script src="static/script.js"></script>
</body>
</html>