<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Photobooth</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    <!-- Subtle floating elements -->
    <div class="floating-elements">
        <div class="float-element"></div>
        <div class="float-element"></div>
        <div class="float-element"></div>
    </div>

    <!-- Header -->
    <header class="app-header">
        <h1 class="logo">
            <span class="logo-text">photobooth</span>
        </h1>
        <div class="session-info">
            <span id="sessionId">session: new</span>
            <button id="newSession" class="btn btn-ghost">reset</button>
        </div>
    </header>

    <!-- Main container -->
    <div class="container">
        <!-- Left Panel - Camera & Upload -->
        <div class="panel camera-panel">
            <div class="panel-header">
                <h2>capture</h2>
            </div>
            
            <!-- Camera/Upload Section -->
            <div class="capture-section">
                <div class="camera-preview" id="cameraPreview">
                    <video id="video" autoplay playsinline></video>
                    <canvas id="canvas" style="display: none;"></canvas>
                    <div class="camera-overlay">
                        <div class="viewfinder"></div>
                    </div>
                </div>
                
                <div class="capture-controls">
                    <button id="startCamera" class="btn btn-primary">start camera</button>
                    <button id="capturePhoto" class="btn btn-accent" style="display: none;">capture</button>
                    <button id="stopCamera" class="btn btn-secondary" style="display: none;">stop</button>
                </div>
                
                <div class="upload-section">
                    <div class="upload-zone" id="uploadZone">
                        <input type="file" id="fileInput" accept="image/*" multiple>
                        <div class="upload-content">
                            <span class="upload-icon">+</span>
                            <p>drop images or browse</p>
                            <small>multiple files supported</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Minimal Stats -->
            <div class="stats-mini">
                <div class="stat-item">
                    <span>photos: <span id="photoCount">0</span></span>
                </div>
                <div class="stat-item">
                    <span>filters: <span id="filtersUsed">0</span></span>
                </div>
                <div class="stat-item">
                    <span>strips: <span id="stripsCreated">0</span></span>
                </div>
            </div>
        </div>

        <!-- Center Panel - Preview & Filters -->
        <div class="panel preview-panel">
            <div class="panel-header">
                <h2>style</h2>
            </div>
            
            <!-- Image Preview -->
            <div class="image-preview" id="imagePreview">
                <div class="preview-placeholder">
                    <span class="placeholder-icon">○</span>
                    <p>your image appears here</p>
                </div>
            </div>
            
            <!-- Filter Controls -->
            <div class="filter-section">
                <h3>filters</h3>
                <div class="filter-grid">
                    <button class="filter-btn active" data-filter="none">
                        <span>original</span>
                    </button>
                    <button class="filter-btn" data-filter="vintage">
                        <span>vintage</span>
                    </button>
                    <button class="filter-btn" data-filter="bw">
                        <span>mono</span>
                    </button>
                    <button class="filter-btn" data-filter="blur">
                        <span>soft</span>
                    </button>
                    <button class="filter-btn" data-filter="enhance">
                        <span>vibrant</span>
                    </button>
                    <button class="filter-btn" data-filter="retro">
                        <span>retro</span>
                    </button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="processImage" class="btn btn-primary">apply</button>
                <button id="saveImage" class="btn btn-accent">save</button>
                <button id="createStrip" class="btn btn-gradient">create strip</button>
            </div>
        </div>

        <!-- Right Panel - Gallery & Features -->
        <div class="panel gallery-panel">
            <div class="panel-header">
                <h2>gallery</h2>
                <div class="panel-controls">
                    <button id="refreshGallery" class="btn btn-ghost btn-sm">refresh</button>
                    <button id="clearGallery" class="btn btn-ghost btn-sm">clear</button>
                </div>
            </div>
            
            <!-- Image Gallery -->
            <div class="gallery-grid" id="galleryGrid">
                <!-- Images will be populated here -->
            </div>
            
            <!-- Minimal Features -->
            <div class="fun-features">
                <div class="feature-tabs">
                    <button class="tab-btn active" data-tab="templates">templates</button>
                    <button class="tab-btn" data-tab="frames">frames</button>
                    <button class="tab-btn" data-tab="effects">effects</button>
                </div>
                
                <!-- Templates Tab -->
                <div class="tab-content active" id="templates">
                    <div class="template-grid">
                        <div class="template-item" data-template="collage">
                            <span>collage</span>
                        </div>
                        <div class="template-item" data-template="mirror">
                            <span>mirror</span>
                        </div>
                        <div class="template-item" data-template="split">
                            <span>split</span>
                        </div>
                        <div class="template-item" data-template="grid">
                            <span>grid</span>
                        </div>
                    </div>
                </div>
                
                <!-- Frames Tab -->
                <div class="tab-content" id="frames">
                    <div class="frame-grid">
                        <div class="frame-item" data-frame="classic">classic</div>
                        <div class="frame-item" data-frame="minimal">minimal</div>
                        <div class="frame-item" data-frame="modern">modern</div>
                        <div class="frame-item" data-frame="film">film</div>
                    </div>
                </div>
                
                <!-- Effects Tab -->
                <div class="tab-content" id="effects">
                    <div class="effect-grid">
                        <div class="effect-item" data-effect="fade">fade</div>
                        <div class="effect-item" data-effect="glow">glow</div>
                        <div class="effect-item" data-effect="shadow">shadow</div>
                        <div class="effect-item" data-effect="texture">texture</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Panel - Photo Strip Preview -->
    <div class="strip-preview" id="stripPreview">
        <div class="strip-header">
            <h3>photo strip</h3>
            <div class="strip-controls">
                <button id="downloadStrip" class="btn btn-accent btn-sm">download</button>
                <button id="shareStrip" class="btn btn-primary btn-sm">share</button>
                <button id="printStrip" class="btn btn-secondary btn-sm">print</button>
            </div>
        </div>
        <div class="strip-container" id="stripContainer">
            <div class="strip-placeholder">
                <span class="strip-icon">—</span>
                <p>create your first strip</p>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab-container">
        <button class="fab" id="magicFab">
            <span class="fab-icon">+</span>
        </button>
        <div class="fab-menu">
            <button class="fab-option" data-action="random-filter">random</button>
            <button class="fab-option" data-action="auto-enhance">enhance</button>
            <button class="fab-option" data-action="surprise-me">surprise</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>processing...</p>
        </div>
    </div>

    <script src="../static/script.js"></script>
</body>
</html>